# Plan de Verificaci√≥n de Cat√°logo Farmac√©utico (20 Pasos)

Para asegurarnos de que el comparador (FarmaSearch) y todos los scrapers (`FarmaciasDirect`, `PromoFarma`, `DosFarma`, `Atida`, `FarmaciasVazquez`) funcionan a la perfecci√≥n, aqu√≠ tienes un plan de 20 pruebas exhaustivas divididas por "casos de uso" y "categor√≠as".

## ü©∫ Grupo 1: Casos Cl√≠nicos y Medicamentos ATC
*Cuidado: algunos medicamentos sin receta (EFP) tienen precios regulados o muy similares, ideal para ver qui√©n ajusta c√©ntimos.*

1. **Analg√©sicos populares:** Busca `Paracetamol Normon 1g` o `Ibuprofeno Kern`. Al ser top ventas, comprueba si las 5 farmacias lo tienen en stock y qui√©n ofrece el mejor precio.
2. **Ca√≠da capilar (Minoxidil):** Busca `Regaxidil 50 mg/ml`. Fue nuestro "paciente cero" para el bug de stock. Verifica que FarmaciasDirect ahora s√≠ marca stock y compara su precio.
3. **Cuidado Articular:** Busca `Voltadol Forte`. Suelen existir formatos de distintos gramos. Comprueba si el buscador agrupa bien las coincidencias usando "Relevancia".
4. **Resfriados y mucol√≠ticos:** Busca `Bisolvon` o `Frenadol`. Revisa si diferentes sabores/formatos (sobres vs jarabe) se distinguen bien en los nombres tra√≠dos por los scrapers.
5. **Tratamientos cr√≥nicos OTC:** Busca `Daflon 500mg` (circulaci√≥n). Suele ser un producto gancho; verifica qu√© farmacia est√° perdiendo margen para captar clientes.

## üß¥ Grupo 2: Dermocosm√©tica e Higiene (Alta Variabilidad)
*Aqu√≠ es donde FarmaciasVazquez y PromoFarma suelen cruzar precios fuertemente.*

6. **Protectores Solares:** Busca `ISDIN Fusion Water`. Revisa si Atida o DosFarma hacen pack dobles ("Duplos") y c√≥mo el scraper extrae el nombre para que no lo confundas con el bote individual.
7. **Beb√©s y Mam√°s:** Busca `Nutriben` o `Suavinex`. Ordena por "M√°s farmacias" para confirmar que estos productos de alta distribuci√≥n aparecen en casi todas las plataformas scrapeadas.
8. **Esmaltes y cuidado u√±as:** Busca `Excilor Esmalte XL`. Verifica la correcci√≥n del bug de FarmaciasVazquez, confirmando que el descuento masivo se aplica al *"Mejor Precio"*.
9. **Higiene bucodental:** Busca `Lacer` o `Oral-B`. Comprueba ordenando por "Precio Menor" si te salen primero las pastas de dientes de viaje (peque√±as) antes que los enjuagues de 1 litro.
10. **Tratamientos Antiedad:** Busca `Sensilis Upgrade` o `Vichy Liftactiv`. Suelen ser los productos m√°s caros de la parafarmacia. Busca la etiqueta indicadora de ahorro viendo los precios que ofrecen Atida vs FarmaciasDirect.

## ‚ö†Ô∏è Grupo 3: Pruebas de Estr√©s y Borde (Edge Cases)
*Buscamos romper la l√≥gica o encontrar fallos sutiles en los nombres y c√≥digos EAN.*

11. **B√∫squedas de 2 o 3 letras:** Busca `gel` o `sol`. Esto probar√° el nuevo l√≠mite t√©cnico de 1500 resultados. Confirma que la base de datos devuelve resultados exactos y la interfaz no se bloquea.
12. **Ortograf√≠a estricta (Tildes/Espacios):** Busca `champ√∫` frente a `champu`. Aseg√∫rate de que PostgreSQL est√° haciendo la b√∫squeda insensible a los acentos/tildes correctamente.
13. **Productos fantasma (Sin stock general):** Busca un producto s√∫per espec√≠fico o descatalogado (ej. mascarillas FFP2 de una marca rara temporal). Verifica el comportamiento cuando las farmacias devuelven "Sin stock".
14. **B√∫squeda por EAN estricto:** Copia el numerito EAN de 13 d√≠gitos de un producto (puedes verlo en la ficha ampliada) y b√∫scalo exactamente as√≠. Solo deber√≠a salir 1 producto agrupando de forma inmaculada a todas las farmacias que lo venden.
15. **Detecci√≥n de "Duplicados Falsos":** Examina alg√∫n resultado de PromoFarma. A veces los vendedores de PromoFarma var√≠an una coma en el nombre. Revisa si ves el producto 2 veces casi id√©ntico. (Esto requerir√° en el futuro IA para limpiar nombres).

## üí∞ Grupo 4: Promociones, Formatos y Ofertas
16. **Nutrici√≥n y Control de peso:** Busca `XLS MEDICAL PACK TRIPLO PRO7`. Confirma de nuevo que el macro-descuento de FarmaciasVazquez (de casi 150‚Ç¨) domina el r√°nking de precios.
17. **Vitaminas y Suplementos:** Busca `Supradyn Activo` o `Multicentrum`. Compara qu√© farmacia lanza agresivamente ofertas en la versi√≥n de "30 comprimidos" frente a la de "90 comprimidos".
18. **Packs Promocionales:** Escribe la palabra `Duplo` o `Pack` en el buscador. Analiza c√≥mo las distintas farmacias (ej. DosFarma) indexan estas palabras en sus nombres oficiales.
19. **Ordenaci√≥n M√°xima de Stock:** Ordena una lista larga por "En stock" usando el men√∫ de filtros del comparador web. Las farmacias en gris o rojo ("Agotado") deben desaparecer de la vista principal o hundirse.
20. **Auditor√≠a de Origen (Click al vendedor):** Elige aleatoriamente 5 enlaces verdes ("Comprar ->") de 5 farmacias diferentes. Haz click en ellos y verifica que aterrizas exactamente en la p√°gina original del producto y que el precio scrapeado hoy concuerda al 100% con el que dictan en su web actual.
